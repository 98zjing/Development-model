<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>proxy pattern</title>
</head>
<body>
	<script>
		// 虚拟代理实现图片预加载
		var myImage = (function(){
			var imgNode = document.createElement("img");
			document.body.appendChild(imgNode);
			return function(src){
				imgNode.src = src;
			};
		})();
		var proxyImage = (function(){
			var img = new Image;
			img.onload = function(){
				myImage(this.src);
			};
			return function(src){
				myImage("file:// /C:/Users/Administrator/Desktop/素材/500460542.jpg");
				img.src = src;
			};
		})();
		proxyImage();
	</script>
</body>
</html>